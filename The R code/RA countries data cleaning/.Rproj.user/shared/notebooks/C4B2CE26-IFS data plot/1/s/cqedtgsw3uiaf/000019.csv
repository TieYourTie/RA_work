"0",""
"0","#clean the enviroment"
"0","rm(list = ls())"
"0",""
"0","IFS_stage_one_HP <-read_excel(""IFS_stage_one_regresison_HP.xlsx"")"
"0",""
"0","IFS_stage_one_HP <-IFS_stage_one_HP %>%"
"0","    mutate(log_average_inflation = log(AverageInflation + 1)) %>%"
"0","    mutate(average_inflation_Standard = (AverageInflation - mean(AverageInflation)) / sd(AverageInflation)) %>%"
"0","    mutate(average_inflation_demean = (AverageInflation - mean(AverageInflation))) %>%"
"0","    mutate(average_inflation_demedian = (AverageInflation - median(AverageInflation))) %>%"
"0","    mutate(average_inflatin_min_max = (AverageInflation - min(AverageInflation))/(max(AverageInflation) - min(AverageInflation)))"
"0",""
"0"," IFS_stage_one_HP_filter <-  IFS_stage_one_HP %>%"
"0","  filter(AverageInflation >= 3.120 & AverageInflation <= 12.745)"
"0",""
"0",""
"0","# Calculate the number of countries for IFS"
"0","n_IFS<- nrow( IFS_stage_one_HP)"
"0",""
"0","# calcuate the number of the coutries for IFS_filter"
"0","n_IFS_filter <- nrow( IFS_stage_one_HP_filter)"
"0",""
"0","# Find the top 3 countries with the highest average inflation in IFS data"
"0","#top_countries_IFS <-  IFS_stage_one_HP %>% arrange(desc(AverageInflation)) %>%  head(3)"
"0",""
"0","# Plot for IFS with specified adjustments"
"0",""
"0","ggplot( IFS_stage_one_HP, aes(y = Persistence_effect, x = AverageInflation)) +"
"0","  geom_point(color = ""blue"") +"
"0","  geom_smooth(method = ""lm"", se = FALSE, color = ""red"") +"
"0","  labs("
"0","    title = ""Persistence Effect vs Average Inflation(IFS HP)"","
"0","    x = ""Average Inflation"","
"0","    y = ""Persistence Effect"","
"0","    caption = paste(""n ="", n_IFS, ""\nData source: IFS"")"
"0","  ) +"
"0","  ylim("
"0","    min( IFS_stage_one_HP$Persistence_effect, na.rm = TRUE) - 0.1,"
"0","    max( IFS_stage_one_HP$Persistence_effect, na.rm = TRUE) + 0.1"
"0","  ) +"
"0","  theme_economist() +"
"0","  theme("
"0","    plot.title = element_text(hjust = 0.5),"
"0","    plot.caption = element_text(hjust = 0, vjust = 1, face = ""italic"")"
"0","  )"
"1","[38;5;232m`geom_smooth()` using formula = 'y ~ x'[39m
"
